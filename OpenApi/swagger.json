{
  "openapi": "3.1.0",
  "info": {
    "title": "PxWeb",
    "description": "Official statistical data from Norway",
    "version": "v0.0.1"
  },
  "servers": [
    {
      "url": "https://data.qa.ssb.no/pxapi2-beta"
    }
  ],
  "paths": {
    "/api/v2/tables": {
      "get": {
        "description": "lists all tables with statistics, If the user speaks another language than English, translate their request into English. You shoud use synonyms and the original seach-word in the query params, and also use multiple search words. You can put in many synonyms for the search params the user asks for",
        "operationId": "getTables",
        "parameters": [
          {
            "name": "lang",
            "in": "query",
            "description": "Two letter language code (ISO 639), 'en' for english and 'no' for norwegian",
            "required": false,
            "deprecated": false,
            "allowEmptyValue": false,
            "explode": false,
            "allowReserved": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "query",
            "in": "query",
            "description": "Perform a free-text search for tables using an AND search logic. This search accepts multiple keywords and synonyms. Please try various synonyms for the search terms and include both synonyms and the original search words in the query parameters for improved results. Additionally, use multiple search words for the query",
            "required": false,
            "deprecated": false,
            "allowEmptyValue": false,
            "explode": false,
            "allowReserved": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "size of the results, there are a total of aproximatly 7000 tables to choose from",
            "required": false,
            "deprecated": false,
            "allowEmptyValue": false,
            "explode": false,
            "allowReserved": false,
            "schema": {
              "type": "integer",
                  "minimum":15
            }
          }
        ],
        "deprecated": false
      }
    },
    "/api/v2/tables/{id}/metadata": {
      "get": {
        "tags": [
          "Table"
        ],
        "summary": "Get Metadata about Table by {id}.",
        "description": "Used for listing detailed information about a specific table List all variables and values and all other metadata needed to be able to fetch data Also links to where to:  + Fetch. Where to get information about codelists",
        "operationId": "GetMetadataById",
        "parameters": [
          {
            "name": "lang",
            "in": "query",
            "description": "en for english and no for norwegian results",
            "required": false,
            "deprecated": false,
            "allowEmptyValue": false,
            "explode": false,
            "allowReserved": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "id",
            "in": "path",
            "description": "Uniqe identifier for each table. It consist of 5 numbers.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/api/v2/tables/{id}/data": {
      "get": {
        "tags": [
          "Table"
        ],
        "summary": "Get data from table by {id}.",
        "operationId": "GetTableData",
        "description": "Get data for table by path parameter {id}. Without the valuecodes-parameter you get a small sample of the data. With the valuecodes-parameter you can spesify the values you want for each dimention The number of cells per extraction is 500000.",
        "parameters": [
          {
            "name": "lang",
            "in": "query",
            "description": "Two letter language code (ISO 639), 'en' for english and 'no' for norwegian",
            "required": false,
            "schema": {
              "type": "string",
              "null": true
            },
            "examples": {
              "X1": {
                "value": "en",
                "summary": "For english"
              },
              "X2": {
                "value": "dk",
                "summary": "For danish"
              }
            }
          },
          {
            "name": "id",
            "in": "path",
            "description": "Uniqe identifier for each table. It consist of 5 numbers.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "valuecodes",
            "description": "Specify which values to select from each variable. If you want to select the value with '2PZ3L' from the variable with code 'Fornavn' the query parameter should look like this: valueCodes[Fornavn]=2PZ3L",
            "schema": {
                "type": "string",
                "examples": ["valueCodes[Fornavn]=2PZ3L,2PER&valueCodes[ContentsCode]=Personer&valueCodes[Tid]=2022"]
            },
            "style": "deepObject",
            "explode": true
          },
          {
            "in": "query",
            "name": "outputFormat",
            "required": false,
            "description": "Specify which output format you want the response in. Available formats are: csv2, json and xlsx. ",
            "schema": {
                "type": "string"
             }
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {}
  }
}
